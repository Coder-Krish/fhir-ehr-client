<div class="container mx-auto px-4 py-8 sm:px-6 lg:px-8 max-w-4xl">
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
      <div class="bg-teal-600 text-white py-4 px-6 flex justify-between items-center">
        <h1 class="text-2xl font-semibold">Patient Registration</h1>
        <button [routerLink]="['/list-patients']"
          class="text-white hover:text-teal-200 transition duration-300 focus:outline-none" aria-label="Close">
          <i class="fas fa-times fa-lg"></i>
        </button>
      </div>
      <div class="p-6">
        <form [formGroup]="patientForm" (ngSubmit)="save()">
          <div formGroupName="name" class="flex gap-6 mb-6">
            <!-- Prefix Field -->
            <div class="flex-1 max-w-[120px]">
              <label for="prefix" class="block text-sm font-medium text-gray-700">Prefix</label>
              <input type="text" id="prefix" formControlName="prefix"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Mr./Ms./Mrs.">
            </div>
            <!-- Given Name Field -->
            <div class="flex-1">
              <label for="givenName" class="block text-sm font-medium text-gray-700">Given Name</label>
              <input type="text" id="givenName" formControlName="given"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Given Name" required>
            </div>
            <!-- Family Name Field -->
            <div class="flex-1">
              <label for="familyName" class="block text-sm font-medium text-gray-700">Family Name</label>
              <input type="text" id="familyName" formControlName="family"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Family Name" required>
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <!-- Gender and Birth Date Fields -->
            <div>
              <label for="gender" class="block text-sm font-medium text-gray-700">Gender</label>
              <select id="gender" formControlName="gender"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                required>
                <option value="">--select--</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div>
              <label for="birthDate" class="block text-sm font-medium text-gray-700">Birth Date</label>
              <input type="date" id="birthDate" formControlName="birthDate"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                required>
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <!-- Telecom Fields -->
            <div formArrayName="telecom">
                <div *ngFor="let telecomControl of telecomControls.controls; let i = index" [formGroupName]="i">
                  <label [for]="'system' + i" class="block text-sm font-medium text-gray-700">System</label>
                  <select [id]="'system' + i" formControlName="system"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                    required>
                    <option value="phone">Phone</option>
                    <option value="email">Email</option>
                  </select>
                  <label [for]="'value' + i" class="block text-sm font-medium text-gray-700">Value</label>
                  <input [id]="'value' + i" formControlName="value" type="text"
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                    placeholder="Value" required>
                </div>
              </div>
          </div>
          <!-- Address Fields -->
          <div formGroupName="address" class="grid grid-cols-1 gap-6 mb-6">
            <div>
              <label for="addressLine" class="block text-sm font-medium text-gray-700">Address Line</label>
              <input type="text" id="addressLine" formControlName="line"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Address" required>
            </div>
            <div>
              <label for="city" class="block text-sm font-medium text-gray-700">City</label>
              <input type="text" id="city" formControlName="city"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="City" required>
            </div>
            <div>
              <label for="district" class="block text-sm font-medium text-gray-700">District</label>
              <input type="text" id="district" formControlName="district"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="District" required>
            </div>
            <div>
              <label for="state" class="block text-sm font-medium text-gray-700">State</label>
              <input type="text" id="state" formControlName="state"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="State" required>
            </div>
            <div>
              <label for="country" class="block text-sm font-medium text-gray-700">Country</label>
              <input type="text" id="country" formControlName="country"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Country" required>
            </div>
            <div>
              <label for="postalCode" class="block text-sm font-medium text-gray-700">Postal Code</label>
              <input type="text" id="postalCode" formControlName="postalCode"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"
                placeholder="Postal Code" required>
            </div>
          </div>
          <div class="flex justify-end">
            <button type="submit"
              class="px-4 py-2 bg-teal-600 text-white rounded-md shadow-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500">
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  